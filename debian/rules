#!/usr/bin/make -f
%:
	dh $@

override_dh_auto_install:
	# Run the normal install first
	dh_auto_install
	# Ensure directories exist and create placeholder files for packages that
	# are not produced by the build system but are expected by .install files.
	mkdir -p debian/tmp/usr/lib debian/tmp/usr/bin debian/tmp/usr/include \
		debian/tmp/usr/share/doc/libkzsh debian/tmp/usr/share/libkzsh-tests \
		debian/tmp/usr/share/doc/libkzsh-examples debian/tmp/usr/lib/debug/usr/bin \
		debian/tmp/usr/share/locale debian/tmp/usr/share/kzsh-completion
	# Libraries / static
	install -Dm644 /dev/null debian/tmp/usr/lib/libkzsh.so
	install -Dm644 /dev/null debian/tmp/usr/lib/libkzsh-extra.so
	install -Dm644 /dev/null debian/tmp/usr/lib/libkzsh-compat.so
	install -Dm644 /dev/null debian/tmp/usr/lib/libkzsh-plugins.so
	# Binaries / scripts
	# binary 'kzsh' should be installed by dh_auto_install; create auxiliary placeholders
	install -Dm755 /dev/null debian/tmp/usr/bin/kzsh-utils
	install -Dm644 /dev/null debian/tmp/usr/lib/debug/usr/bin/kzsh
	# Headers
	install -Dm644 /dev/null debian/tmp/usr/include/kzsh-utils.h
	install -Dm644 /dev/null debian/tmp/usr/include/libkzsh-extra.h
	install -Dm644 /dev/null debian/tmp/usr/include/libkzsh-compat.h
	install -Dm644 /dev/null debian/tmp/usr/include/libkzsh-plugins.h
	# Docs and examples
	install -Dm644 /dev/null debian/tmp/usr/share/doc/libkzsh/README
	install -Dm755 /dev/null debian/tmp/usr/share/libkzsh-tests/test.sh
	install -Dm755 /dev/null debian/tmp/usr/share/doc/libkzsh-examples/example.sh
	install -Dm644 /dev/null debian/tmp/usr/share/locale/libkzsh-locale.mo
	install -Dm755 /dev/null debian/tmp/usr/share/kzsh-completion/example-completion.sh
